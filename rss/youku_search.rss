 
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/">
<script>
	uipath = getEnv("uipath");
	downrss = getEnv("downrss");
	Set_key = "";
	textSize = 0;
	columnIndex = 0;
	textArray = null;
	executeScript("xiaoxie");
</script>

<xiaoxie>
	nameArray = null;
	nameArray  = pushBackStringArray(nameArray, "1");
	nameArray  = pushBackStringArray(nameArray, "q");
	nameArray  = pushBackStringArray(nameArray, "a");
	nameArray  = pushBackStringArray(nameArray, "z");
	nameArray  = pushBackStringArray(nameArray, "2");
	nameArray  = pushBackStringArray(nameArray, "w");
	nameArray  = pushBackStringArray(nameArray, "s");
	nameArray  = pushBackStringArray(nameArray, "x");
	nameArray  = pushBackStringArray(nameArray, "3");
	nameArray  = pushBackStringArray(nameArray, "e");
	nameArray  = pushBackStringArray(nameArray, "d");
	nameArray  = pushBackStringArray(nameArray, "c");
	nameArray  = pushBackStringArray(nameArray, "4");
	nameArray  = pushBackStringArray(nameArray, "r");
	nameArray  = pushBackStringArray(nameArray, "f");
	nameArray  = pushBackStringArray(nameArray, "v");
	nameArray  = pushBackStringArray(nameArray, "5");
	nameArray  = pushBackStringArray(nameArray, "t");
	nameArray  = pushBackStringArray(nameArray, "g");
	nameArray  = pushBackStringArray(nameArray, "b");
	nameArray  = pushBackStringArray(nameArray, "6");
	nameArray  = pushBackStringArray(nameArray, "y");
	nameArray  = pushBackStringArray(nameArray, "h");
	nameArray  = pushBackStringArray(nameArray, "n");
	nameArray  = pushBackStringArray(nameArray, "7");
	nameArray  = pushBackStringArray(nameArray, "u");
	nameArray  = pushBackStringArray(nameArray, "j");
	nameArray  = pushBackStringArray(nameArray, "m");
	nameArray  = pushBackStringArray(nameArray, "8");
	nameArray  = pushBackStringArray(nameArray, "i");
	nameArray  = pushBackStringArray(nameArray, "k");
	nameArray  = pushBackStringArray(nameArray, ",");
	nameArray  = pushBackStringArray(nameArray, "9");
	nameArray  = pushBackStringArray(nameArray, "o");
	nameArray  = pushBackStringArray(nameArray, "l");
	nameArray  = pushBackStringArray(nameArray, ".");
	nameArray  = pushBackStringArray(nameArray, "0");
	nameArray  = pushBackStringArray(nameArray, "p");
	nameArray  = pushBackStringArray(nameArray, ":");
	nameArray  = pushBackStringArray(nameArray, "/");
	nameArray  = pushBackStringArray(nameArray, "-");
	nameArray  = pushBackStringArray(nameArray, "_");
	nameArray  = pushBackStringArray(nameArray, "[");
	nameArray  = pushBackStringArray(nameArray, "@");
	nameArray  = pushBackStringArray(nameArray, "+");
	nameArray  = pushBackStringArray(nameArray, "?");
	nameArray  = pushBackStringArray(nameArray, "]");
	nameArray  = pushBackStringArray(nameArray, "&amp;");
	nameArray  = pushBackStringArray(nameArray, "=");
	nameArray  = pushBackStringArray(nameArray, "*");
	nameArray  = pushBackStringArray(nameArray, "!");
	nameArray  = pushBackStringArray(nameArray, "%");
	nameArray  = pushBackStringArray(nameArray, "退格");
	nameArray  = pushBackStringArray(nameArray, "大写");
	nameArray  = pushBackStringArray(nameArray, "空格");
	nameArray  = pushBackStringArray(nameArray, "确定");
	redrawDisplay();
</xiaoxie>

<daxie>
	nameArray = null;
	nameArray  = pushBackStringArray(nameArray, "1");
	nameArray  = pushBackStringArray(nameArray, "Q");
	nameArray  = pushBackStringArray(nameArray, "A");
	nameArray  = pushBackStringArray(nameArray, "Z");
	nameArray  = pushBackStringArray(nameArray, "2");
	nameArray  = pushBackStringArray(nameArray, "W");
	nameArray  = pushBackStringArray(nameArray, "S");
	nameArray  = pushBackStringArray(nameArray, "X");
	nameArray  = pushBackStringArray(nameArray, "3");
	nameArray  = pushBackStringArray(nameArray, "E");
	nameArray  = pushBackStringArray(nameArray, "D");
	nameArray  = pushBackStringArray(nameArray, "C");
	nameArray  = pushBackStringArray(nameArray, "4");
	nameArray  = pushBackStringArray(nameArray, "R");
	nameArray  = pushBackStringArray(nameArray, "F");
	nameArray  = pushBackStringArray(nameArray, "V");
	nameArray  = pushBackStringArray(nameArray, "5");
	nameArray  = pushBackStringArray(nameArray, "T");
	nameArray  = pushBackStringArray(nameArray, "G");
	nameArray  = pushBackStringArray(nameArray, "B");
	nameArray  = pushBackStringArray(nameArray, "6");
	nameArray  = pushBackStringArray(nameArray, "Y");
	nameArray  = pushBackStringArray(nameArray, "H");
	nameArray  = pushBackStringArray(nameArray, "N");
	nameArray  = pushBackStringArray(nameArray, "7");
	nameArray  = pushBackStringArray(nameArray, "U");
	nameArray  = pushBackStringArray(nameArray, "J");
	nameArray  = pushBackStringArray(nameArray, "M");
	nameArray  = pushBackStringArray(nameArray, "8");
	nameArray  = pushBackStringArray(nameArray, "I");
	nameArray  = pushBackStringArray(nameArray, "K");
	nameArray  = pushBackStringArray(nameArray, ",");
	nameArray  = pushBackStringArray(nameArray, "9");
	nameArray  = pushBackStringArray(nameArray, "O");
	nameArray  = pushBackStringArray(nameArray, "L");
	nameArray  = pushBackStringArray(nameArray, ".");
	nameArray  = pushBackStringArray(nameArray, "0");
	nameArray  = pushBackStringArray(nameArray, "P");
	nameArray  = pushBackStringArray(nameArray, ":");
	nameArray  = pushBackStringArray(nameArray, "/");
	nameArray  = pushBackStringArray(nameArray, "-");
	nameArray  = pushBackStringArray(nameArray, "_");
	nameArray  = pushBackStringArray(nameArray, "[");
	nameArray  = pushBackStringArray(nameArray, "@");
	nameArray  = pushBackStringArray(nameArray, "+");
	nameArray  = pushBackStringArray(nameArray, "?");
	nameArray  = pushBackStringArray(nameArray, "]");
	nameArray  = pushBackStringArray(nameArray, "&amp;");
	nameArray  = pushBackStringArray(nameArray, "=");
	nameArray  = pushBackStringArray(nameArray, "*");
	nameArray  = pushBackStringArray(nameArray, "!");
	nameArray  = pushBackStringArray(nameArray, "%");
	nameArray  = pushBackStringArray(nameArray, "退格");
	nameArray  = pushBackStringArray(nameArray, "小写");
	nameArray  = pushBackStringArray(nameArray, "空格");
	nameArray  = pushBackStringArray(nameArray, "确定");
	redrawDisplay();
</daxie>


<onEnter>
	setRefreshTime(260);
</onEnter>

<onRefresh>
	if (SoText == null || SoText == "" &amp;&amp; columnIndex == 0) SoText = "_"; else SoText = "";
</onRefresh>

<onExit>
	setRefreshTime(-1);
</onExit>

<mediaDisplay name=photoView
	viewAreaXPC=20
	viewAreaYPC=20
	viewAreaWidthPC=60
	viewAreaHeightPC=50
	itemBackgroundColor=-1:-1:-1
	backgroundColor=-1:-1:-1
	sideTopHeightPC=0
	sideBottomHeightPC=0   
	bottomYPC=100
	rowCount=4
	columnCount=14
	fontSize=25
	itemPerPage=2
	itemBorderPC="0"
	imageBorderPC = 0
	itemOffsetXPC=1.12
	centerYPC=19
	itemGapXPC=0
	itemGapYPC=0
	itemWidthPC=6.9
	itemHeightPC=14
	centerHeightPC=100 
	focusItem="0"
	showHeader="no"  
	showDefaultInfo="no"
	idleImageXPC=85
	idleImageYPC=86
	idleImageWidthPC=3.2
	idleImageHeightPC=5.5>
	<idleImage>image/POPUP_LOADING_01.png</idleImage>
	<idleImage>image/POPUP_LOADING_02.png</idleImage>
	<idleImage>image/POPUP_LOADING_03.png</idleImage>
	<idleImage>image/POPUP_LOADING_04.png</idleImage>
	<idleImage>image/POPUP_LOADING_05.png</idleImage>
	<idleImage>image/POPUP_LOADING_06.png</idleImage>
	<idleImage>image/POPUP_LOADING_07.png</idleImage>
	<idleImage>image/POPUP_LOADING_08.png</idleImage>
	<backgroundDisplay name=youku_search_bg>
		<image offsetXPC=0 offsetYPC=0 widthPC=100 heightPC=100>
			<script>
				uipath + "kbd_bg.jpg";
			</script>
		</image>
	</backgroundDisplay>
	
	
	
	<text offsetXPC=3 offsetYPC=77 widthPC=95 align=left heightPC=10 backgroundColor=-1:-1:-1 foregroundColor=250:250:250 fontSize=14>
	<script>"搜索 十二生肖，可以用 SESX 然后[查找]，不要带 高清版 等后缀.";</script>
	</text>
	<text offsetXPC=3 offsetYPC=86 widthPC=95 align=left heightPC=10 backgroundColor=-1:-1:-1 foregroundColor=250:250:250 fontSize=14>
	<script>"[查找]和[确定]启动关键词联想,[播放]键快速首字母搜索。";</script>
	</text>
	<itemDisplay>
	<image redraw=yes>
	<offsetXPC>
		<script>
			ItemState = getDrawingItemState();
			if (ItemState == "focus" &amp;&amp; columnIndex == 0) "0"; else "10";
		</script>
	</offsetXPC>
	<offsetYPC><script>if (ItemState == "focus" &amp;&amp; columnIndex == 0) "0"; else "10";</script></offsetYPC>
	<widthPC>
		<script>
			if (ItemState == "focus" &amp;&amp; columnIndex == 0) "100"; else "80";
		</script>
	</widthPC>
	<heightPC><script>if (ItemState == "focus" &amp;&amp; columnIndex == 0) "100"; else "80";</script></heightPC>
		<script>
			if (ItemState == "focus" &amp;&amp; columnIndex == 0)
			{
				uipath + "skb_focus.png";
			}
			else
			{
				uipath + "skb_unfocus.png";
			}
		</script>
	</image>
	<text redraw=yes offsetXPC=0 offsetYPC=0 widthPC=100 heightPC=100 backgroundColor=-1:-1:-1 align=center>
	<fontSize><script>if (getQueryItemIndex() &gt; 51) "12"; else "18";</script></fontSize>
	<foregroundColor><script>if (ItemState == "focus" &amp;&amp; columnIndex == 0) "255:255:255"; else "10:10:10";</script></foregroundColor>
	<script>
		getStringArrayAt(nameArray, -1);
	</script>
	</text>
	</itemDisplay>

<text redraw=yes offsetXPC=13 offsetYPC=4 widthPC=60 heightPC=12>
<backgroundColor><script>if (columnIndex == 1) "255:200:0"; else "100:100:100";</script></backgroundColor>
	<script>null;</script>
	</text>
	<text redraw=yes offsetXPC=14 offsetYPC=5 fontSize=20 widthPC=58 heightPC=10 backgroundColor=250:250:250>
	<foregroundColor><script>if (columnIndex == 1) "10:10:10"; else "10:10:10";</script></foregroundColor>
	<script>
		Set_key + SoText;
	</script>
	</text>
<!-- 	<image redraw=yes offsetXPC=75 offsetYPC=4 widthPC=15 heightPC=12 backgroundColor=-1:-1:-1>
		<script>
		if (columnIndex == 1)uipath + "info_item_focus.png";
			else uipath + "info_item_unfocus.png";
		</script>
	</image> -->
	
	
	<text redraw=yes offsetXPC=75 offsetYPC=4 fontSize=18 widthPC=15 heightPC=12 backgroundColor=-1:-1:-1 align=center>
	<foregroundColor><script>if (columnIndex == 1) "255:200:0"; else "255:255:255";</script></foregroundColor>
	<script>
		"查找";
	</script>
	</text>
	<onUserInput>
		ret = "false";
		itemIndex = getFocusItemIndex();
		input = currentUserInput();
		focusIndex = getFocusItemIndex();
		rowIndex = Integer(focusIndex%4);
		if (input == "up")
		{
			if (rowIndex == 0)
			{
				columnIndex = 1;
				redrawDisplay();
				ret = "true";
			}
		}
		else if (input == "down" &amp;&amp; columnIndex == 1)
		{
			columnIndex = 0;
			redrawDisplay();
			ret = "true";
		}
			else if (input == "left" &amp;&amp; columnIndex == 0)
		{
		curlitemIndex = getFocusItemIndex();
			if(curlitemIndex == 0){setFocusItemIndex(56);}
			if(curlitemIndex == 1){setFocusItemIndex(57);}
			if(curlitemIndex == 2){setFocusItemIndex(58);}
			if(curlitemIndex == 3){setFocusItemIndex(59);}
		}
			else if (input == "right" &amp;&amp; columnIndex == 0)
		{
		curlitemIndex = getFocusItemIndex();
			if(curlitemIndex == 52){setFocusItemIndex(-4);}
			if(curlitemIndex == 53){setFocusItemIndex(-3);}
			if(curlitemIndex == 54){setFocusItemIndex(-2);}
			if(curlitemIndex == 55){setFocusItemIndex(-1);}
		}
		else if (input == "video_play" || input == "video_pause")
		{
			setReturnString(Set_key);
			ret = "return";
		}
		else if (input == "enter" &amp;&amp; columnIndex == 1 || input == "video_play" )
		{
			setEnv("Set_key",Set_key);
			kw_link = uipath + "searchlist.rss";
			if (readStringFromFile(kw_link) == null) dldUrl2File(downrss +"../rss/youku_searchlist.rss", kw_link);
			getkey = doModalRss(kw_link);
			if (getkey != null)
			{
				setReturnString(getkey);
				ret = "return";
			}
			redrawDisplay();
		}
		else if (input == "enter" &amp;&amp; columnIndex == 0)
		{
			itemTitle = getStringArrayAt(nameArray, itemIndex);
			if (itemTitle == "退格") input = "video_stop";
			else if (itemTitle == "小写")
			{
				executeScript("xiaoxie");
				ret = "true";
			}
			else if (itemTitle == "大写")
			{
				executeScript("daxie");
				ret = "true";
			}
			else if (itemTitle == "确定")
			{
				setEnv("Set_key",Set_key);
			kw_link = uipath + "searchlist.rss";
			if (readStringFromFile(kw_link) == null) dldUrl2File(downrss +"../rss/youku_searchlist.rss", kw_link);
			getkey = doModalRss(kw_link);
			if (getkey != null)
			{
				setReturnString(getkey);
				ret = "return";
			}
			redrawDisplay();
			}
			else
			{
				textSize += 1;
				if (itemTitle == "空格") itemTitle = " ";
				Set_key += itemTitle;
				textArray  = pushBackStringArray(textArray, itemTitle);
				ret = "true";
			}
		}
		if (input == "video_stop")
		{
			if (textSize == null) textSize = 0;
			if (getStringArrayAt(textArray, (textSize-1)) != null) textArray  = deleteStringArrayAt(textArray, (textSize-1));
			textSize = 0;
			Set_key = "";
			while (getStringArrayAt(textArray, textSize) != null)
			{
				Set_key += getStringArrayAt(textArray, textSize);
				textSize += 1;
			}
			ret = "true";
		}
		ret;
	</onUserInput>
</mediaDisplay>
<item_template>
	<onClick>
		null;
	</onClick>
</item_template>
<channel>
<itemSize>56</itemSize>
</channel>
</rss>
